(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},196:function(e,t){},198:function(e,t){},209:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(36),i=n.n(s),o=(n(166),n(167),n(149)),r=n(29),l=n(15),u=n(9),d=Object(c.createContext)(),j=(n(127),n(227)),m=n(72),b=n(154),h=n(155),f=n(228),O=(n.p,n.p+"static/media/teams.23d1d865.mp3"),g=n(33),v=n(139),p=n.p+"static/media/hang.a09ef7b4.svg",x=n(221),y=n(222),S=n(223),C=n(224),_=n(225),w=n(226),N=n(230),k=n(231),R=n(112),M=n(232),V=n(97),I=n(120),U=n.n(I),T=n(11),A=Object(V.a)("https://satin-near-hornet.glitch.me/"),E=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(u.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(!1),r=Object(u.a)(o,2),j=r[0],m=r[1],b=Object(c.useState)(),h=Object(u.a)(b,2),f=h[0],O=h[1],g=Object(c.useState)([]),v=Object(u.a)(g,2),p=v[0],x=v[1],y=Object(c.useState)(""),S=Object(u.a)(y,2),C=S[0],_=S[1],w=Object(c.useState)({}),N=Object(u.a)(w,2),k=N[0],R=N[1],M=Object(c.useState)(""),V=Object(u.a)(M,2),I=V[0],E=V[1],F=Object(c.useState)(""),z=Object(u.a)(F,2),D=z[0],L=z[1],q=Object(c.useState)(""),P=Object(u.a)(q,2),W=P[0],J=P[1],B=Object(c.useState)(!0),H=Object(u.a)(B,2),K=H[0],Y=H[1],G=Object(c.useState)(),Q=Object(u.a)(G,2),X=Q[0],$=Q[1],Z=Object(c.useState)(!0),ee=Object(u.a)(Z,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(),ae=Object(u.a)(ce,2),se=ae[0],ie=ae[1],oe=Object(c.useState)(""),re=Object(u.a)(oe,2),le=re[0],ue=re[1],de=Object(c.useState)(!1),je=Object(u.a)(de,2),me=je[0],be=je[1],he=Object(c.useState)(""),fe=Object(u.a)(he,2),Oe=fe[0],ge=fe[1],ve=Object(c.useState)(""),pe=Object(u.a)(ve,2),xe=pe[0],ye=pe[1],Se=Object(c.useRef)(),Ce=Object(c.useRef)(),_e=Object(c.useRef)(),we=Object(c.useRef)();Object(c.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){O(e),Se.current.srcObject=e})),localStorage.getItem("name")&&_(localStorage.getItem("name")),A.on("me",(function(e){return E(e)})),A.on("endCall",(function(){window.location.reload()})),A.on("updateUserMedia",(function(e){var t=e.type,n=e.currentMediaStatus;if(null!==n||n!==[])switch(t){case"video":$(n);break;case"mic":ie(n);break;default:ie(n[0]),$(n[1])}})),A.on("callUser",(function(e){var t=e.from,n=e.name,c=e.signal;R({isReceivingCall:!0,from:t,name:n,signal:c})})),A.on("msgRcv",(function(e){e.name;var t=e.msg,n=e.sender;ue({value:t,sender:n}),setTimeout((function(){ue({})}),2e3)}))}),[]);return Object(T.jsx)(d.Provider,{value:{otherUser:W,call:k,callAccepted:s,myVideo:Se,userVideo:Ce,stream:f,name:C,setName:_,callEnded:j,me:I,callUser:function(e){var t=new U.a({initiator:!0,trickle:!1,stream:f});J(e),t.on("signal",(function(t){A.emit("callUser",{userToCall:e,signalData:t,from:I,name:C})})),t.on("stream",(function(e){Ce.current.srcObject=e})),A.on("callAccepted",(function(e){var n=e.signal,c=e.userName;i(!0),L(c),t.signal(n),A.emit("updateMyMedia",{type:"both",currentMediaStatus:[te,K]})})),_e.current=t,console.log(_e.current)},leaveCall:function(){m(!0),_e.current.destroy(),A.emit("endCall",{id:W}),window.location.reload()},answerCall:function(){i(!0),J(k.from);var e=new U.a({initiator:!1,trickle:!1,stream:f});e.on("signal",(function(e){A.emit("answerCall",{signal:e,to:k.from,userName:C,type:"both",myMediaStatus:[te,K]})})),e.on("stream",(function(e){Ce.current.srcObject=e})),e.signal(k.signal),_e.current=e,console.log(_e.current)},sendMsg:function(e){A.emit("msgUser",{name:C,to:W,msg:e,sender:C});var t={};t.msg=e,t.type="sent",t.timestamp=Date.now(),t.sender=C,x([].concat(Object(l.a)(p),[t]))},msgRcv:le,chat:p,setChat:x,setMsgRcv:ue,setOtherUser:J,leaveCall1:function(){A.emit("endCall",{id:W})},userName:D,myVdoStatus:K,setMyVdoStatus:Y,userVdoStatus:X,setUserVdoStatus:$,updateVideo:function(){Y((function(e){return A.emit("updateMyMedia",{type:"video",currentMediaStatus:!e}),f.getVideoTracks()[0].enabled=!e,!e}))},myMicStatus:te,userMicStatus:se,updateMic:function(){ne((function(e){return A.emit("updateMyMedia",{type:"mic",currentMediaStatus:!e}),f.getAudioTracks()[0].enabled=!e,!e}))},screenShare:me,handleScreenSharing:function(){K?me?we.current.onended():navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){var t=e.getTracks()[0];_e.current.replaceTrack(_e.current.streams[0].getTracks().find((function(e){return"video"===e.kind})),t,f),t.onended=function(){_e.current.replaceTrack(t,_e.current.streams[0].getTracks().find((function(e){return"video"===e.kind})),f),Se.current.srcObject=f,be(!1)},Se.current.srcObject=e,we.current=t,be(!0)})).catch((function(e){console.log("No stream for sharing")})):xe.error("Turn on your video to share the content",2)},fullScreen:function(e){var t=e.target;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},room:Oe,setRoom:ge,joinRoom:function(){""!==Oe&&(A.emit("join_room",Oe),console.log(Oe,"is joining"))},message:xe,setMessage:ye},children:t})},F=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)("Enter code to call"),i=Object(u.a)(s,2),o=i[0],r=i[1],l=Object(c.useState)(!1),V=Object(u.a)(l,2),I=V[0],U=V[1],A=Object(c.useRef)(),E=Object(c.useContext)(d),F=E.call,z=E.callAccepted,D=(E.myVideo,E.userVideo,E.stream,E.name),L=E.setName,q=E.callEnded,P=E.me,W=E.callUser,J=E.leaveCall,B=E.answerCall,H=(E.otherUser,E.setOtherUser),K=E.leaveCall1;E.room,E.setRoom,E.joinRoom,E.setMessage;Object(c.useEffect)((function(){var e,t;I?null===A||void 0===A||null===(t=A.current)||void 0===t||t.play():null===A||void 0===A||null===(e=A.current)||void 0===e||e.pause()}),[I]);return Object(c.useEffect)((function(){F.isReceivingCall&&!z?(U(!0),H(F.from)):U(!1)}),[F.isReceivingCall]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:g.options,children:[Object(T.jsx)("div",{className:g.name,style:{display:"inline-flex",textAlign:"center",justifyContent:"space-around"},children:Object(T.jsxs)("div",{children:[Object(T.jsx)("p2",{children:"Your Name"}),Object(T.jsx)(j.a,{size:"large",placeholder:"Your name",prefix:Object(T.jsx)(N.a,{}),maxLength:15,suffix:Object(T.jsxs)("small",{children:[D.length,"/15"]}),value:D,onChange:function(e){L(e.target.value),localStorage.setItem("name",e.target.value)},className:g.inputgroup})]})}),Object(T.jsxs)("div",{className:g.copyCode,style:{display:"inline-flex",textAlign:"center",justifyContent:"space-around"},children:[Object(T.jsx)("div",{children:Object(T.jsx)(v.CopyToClipboard,{text:P,children:Object(T.jsx)(m.a,{type:"primary",icon:Object(T.jsx)(k.a,{}),className:g.btn,tabIndex:"0",onClick:function(e){b.b.success("Code copied successfully!"),r(P)},children:"Copy Room code"})})}),Object(T.jsx)("div",{className:g.share_options,children:Object(T.jsxs)("div",{className:g.share_social,children:[Object(T.jsx)(x.a,{url:"https://interviewapp-o3fbihuwj-rishuraj2401.vercel.app/",title:'Join this meeting with the given code "'.concat(P,'"\n'),separator:"Link: ",className:g.share_icon,children:Object(T.jsx)(y.a,{size:26,round:!0})}),Object(T.jsx)(S.a,{url:"https://interviewapp-o3fbihuwj-rishuraj2401.vercel.app/",title:'Join this meeting with the given code "'.concat(P,'"\n'),className:g.share_icon,children:Object(T.jsx)(C.a,{size:26,round:!0})}),Object(T.jsx)(_.a,{url:"https://interviewapp-o3fbihuwj-rishuraj2401.vercel.app/",title:'Join this meeting with the given code  "'.concat(P,'"\n'),className:g.share_icon,children:Object(T.jsx)(w.a,{size:26,round:!0,className:g.share_border})})]})})]}),Object(T.jsxs)("div",{className:g.roomCode,style:{display:"inline-flex",textAlign:"center",justifyContent:"space-evenly"},children:[Object(T.jsx)("p2",{children:"Room Code"}),Object(T.jsx)(j.a,{placeholder:o,size:"large",className:g.inputgroup,value:n,onChange:function(e){a(e.target.value)},style:{marginRight:"0.5rem",marginBottom:"0.5rem"},prefix:Object(T.jsx)(N.a,{className:"site-form-item-icon"}),suffix:Object(T.jsx)(h.a,{title:"Enter code of the other user",children:Object(T.jsx)(R.a,{style:{color:"rgba(0,0,0,.45)"}})})}),z&&!q?Object(T.jsxs)(m.a,{variant:"contained",onClick:J,className:g.hang,tabIndex:"0",children:[Object(T.jsx)("img",{src:p,alt:"hang up",style:{height:"15px"}}),"\xa0 Leave"]}):Object(T.jsx)(m.a,{type:"primary",icon:Object(T.jsx)(M.a,{}),onClick:function(){D.length?W(n):b.b.error("Please enter your name to call!")},className:g.btn,tabIndex:"0",children:"Join"})]})]}),Object(T.jsx)("div",{children:F.isReceivingCall&&!z&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("audio",{src:O,loop:!0,ref:A}),Object(T.jsxs)(f.a,{title:"Room Invite",visible:I,onOk:function(){U(!1)},onCancel:function(){U(!1),K(),window.location.reload()},footer:null,style:{borderRadius:"1rem"},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(T.jsxs)("h1",{children:[F.name," is inviting to join Room:"," "]})}),Object(T.jsxs)("div",{className:g.btnDiv,children:[Object(T.jsx)(m.a,{variant:"contained",className:g.answer,color:"#29bb89",icon:Object(T.jsx)(M.a,{}),onClick:function(){B(),A.current.pause()},tabIndex:"0",children:"Accept Invite"}),Object(T.jsx)(m.a,{variant:"contained",className:g.decline,icon:Object(T.jsx)(M.a,{}),onClick:function(){U(!1),A.current.pause()},tabIndex:"0",children:"Decline Invite"})]})]})]})})]})},z=n(158),D=n(229),L=(n.p,n.p+"static/media/video.e038b670.svg"),q=n.p+"static/media/video-off.81281c31.svg",P=n.p+"static/media/msg_illus.a7fd59ce.svg",W=n.p+"static/media/msg.590bd963.svg",J=n.p+"static/media/share_screen.2998de9b.svg",B=n(233),H=n(152),K=n(159),Y=n(160),G=function(){var e=Object(c.useContext)(d),t=(e.call,e.otherUser),n=(e.callAccepted,e.myVideo,e.userVideo,e.stream,e.name,e.setName,e.callEnded,e.me,e.callUser,e.leaveCall,e.answerCall,e.sendMsg,e.msgRcv,e.chat,e.setChat,e.setMsgRcv,e.setOtherUser,e.leaveCall1,e.userName,e.myVdoStatus,e.setMyVdoStatus,e.userVdoStatus,e.setUserVdoStatus,e.updateVideo,e.myMicStatus,e.userMicStatus,e.updateMic,e.screenShare,e.handleScreenSharing,e.fullScreen,e.room,e.setRoom,e.joinRoom,e.message),a=e.setMessage,s=Object(c.useState)(""),i=Object(u.a)(s,2),o=i[0],r=i[1],l=(Object(c.useRef)(null),function(){A.emit("send_message",{message:n,to:t})}),j=(Object(c.useRef)(null),Object(c.useRef)(null)),m=Object(c.useRef)(null);return Object(c.useEffect)((function(){A.on("receive_message",(function(e){r(e.message)}))}),[A]),Object(T.jsx)("div",{children:Object(T.jsx)(H.a,{id:"cod",value:o,theme:K.a,height:"90.75vh",extensions:[Object(Y.a)({jsx:!0})],onChange:function(e){!function(e){a(e)}(e)},onKeyUp:function(e){!function(e){var t=e;clearTimeout(j.current),j.current=setTimeout((function(){a(t),console.log("value1:",t),console.log("message1:",n.length,n)}),3),clearTimeout(m.current),m.current=setTimeout((function(){"string"===typeof n&&l()}),3)}(e)}})})},Q=(n.p,n.p,n.p+"static/media/codeLogo2.ed914d96.png"),X=j.a.Search,$=function(){var e=Object(c.useContext)(d),t=e.call,n=e.callAccepted,a=e.myVideo,s=e.userVideo,i=e.stream,o=e.name,r=(e.setName,e.callEnded),j=(e.me,e.callUser,e.leaveCall,e.answerCall,e.sendMsg),m=e.msgRcv,b=e.chat,h=e.setChat,O=e.userName,g=e.myVdoStatus,v=(e.screenShare,e.fullScreen),p=e.handleScreenSharing,x=e.userVdoStatus,y=e.updateVideo,S=e.myMicStatus,C=e.userMicStatus,_=e.updateMic,w=(e.setMessage,e.message,e.otherUser,Object(c.useState)("")),k=Object(u.a)(w,2),R=k[0],M=k[1],V=Object(c.useState)(!1),I=Object(u.a)(V,2),U=I[0],E=I[1];A.on("msgRcv",(function(e){e.name;var t=e.msg,n=e.sender,c={};c.msg=t,c.type="rcv",c.sender=n,c.timestamp=Date.now(),h([].concat(Object(l.a)(b),[c]))}));var H=Object(c.useRef)();Object(c.useEffect)((function(){null!==H&&void 0!==H&&H.current&&H.current.scrollIntoView({behavior:"smooth"})}),[b]);var K=function(e){E(e)};return Object(c.useEffect)((function(){m.value&&!U&&z.a.open({message:"",description:"".concat(m.sender,": ").concat(m.value),icon:Object(T.jsx)(B.a,{style:{color:"#108ee9"}})})}),[m]),Object(T.jsxs)("div",{className:"grid",children:[Object(T.jsx)("div",{className:"video-grid",children:Object(T.jsxs)("div",{className:"video-flex",children:[Object(T.jsx)("div",{className:"name",style:{textAlign:"center",height:"90px",width:"300px",alignItems:"center"},children:Object(T.jsx)("img",{src:Q,alt:"logo",style:{height:"100%",width:"50%",padding:"10px"}})}),i?Object(T.jsxs)("div",{style:{textAlign:"center"},className:"card",id:n&&!r?"video1":"video3",children:[Object(T.jsx)("div",{style:{height:"2rem"},children:Object(T.jsx)("h3",{style:{zIndex:"5",position:"absolute",padding:"2vh"},children:"You"})}),Object(T.jsxs)("div",{className:"video-avatar-container",children:[Object(T.jsx)("video",{playsInline:!0,muted:!0,onClick:v,ref:a,autoPlay:!0,className:"video-active",style:{opacity:"".concat(g?"1":"0")}}),Object(T.jsx)(D.a,{style:{backgroundColor:"#116",position:"relative",opacity:"".concat(g?"-1":"2")},size:98,icon:!o&&Object(T.jsx)(N.a,{}),children:o})]}),Object(T.jsxs)("div",{className:"iconsDiv",children:[Object(T.jsx)("div",{className:"icons",onClick:function(){_()},tabIndex:"0",children:Object(T.jsx)("i",{className:"fa fa-microphone".concat(S?"":"-slash"),style:{transform:"scaleX(-1)"},"aria-label":"".concat(S?"mic on":"mic off"),"aria-hidden":"true"})}),n&&!r&&Object(T.jsx)("div",{className:"icons",onClick:function(){E(!U)},tabIndex:"0",children:Object(T.jsx)("img",{src:W,alt:"chat icon"})}),Object(T.jsxs)(f.a,{title:"Chat",footer:null,visible:U,onOk:function(){return K(!1)},onCancel:function(){return K(!1)},style:{maxHeight:"100px"},children:[b.length?Object(T.jsxs)("div",{className:"msg_flex",children:[b.map((function(e){return Object(T.jsx)("div",{className:"sent"===e.type?"msg_sent":"msg_rcv",children:e.msg})})),Object(T.jsx)("div",{ref:H,id:"no_border"})]}):Object(T.jsx)("div",{className:"chat_img_div",children:Object(T.jsx)("img",{src:P,alt:"msg_illus",className:"img_illus"})}),Object(T.jsx)(X,{placeholder:"your message",allowClear:!0,className:"input_msg",enterButton:"Send ",onChange:function(e){return M(e.target.value)},value:R,size:"large",onSearch:function(e){e&&e.length&&j(e),M("")}})]}),n&&!r&&Object(T.jsx)("div",{className:"icons",onClick:function(){return p()},tabIndex:"0",children:Object(T.jsx)("img",{src:J,alt:"share screen"})}),Object(T.jsx)("div",{className:"icons",onClick:function(){return y()},tabIndex:"0",children:g?Object(T.jsx)("img",{src:L,alt:"video on icon"}):Object(T.jsx)("img",{src:q,alt:"video off icon"})})]})]}):Object(T.jsxs)("div",{className:"bouncing-loader",children:[Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{})]}),n&&!r&&s&&Object(T.jsxs)("div",{className:"card2",style:{textAlign:"center"},id:"video2",children:[Object(T.jsx)("div",{children:Object(T.jsx)("h3",{style:{zIndex:"5",position:"absolute",paddingLeft:"2vh"},children:x&&(t.name||O)})}),Object(T.jsxs)("div",{className:"video-avatar-container",children:[Object(T.jsx)("video",{playsInline:!0,ref:s,onClick:v,autoPlay:!0,className:"video-active",style:{opacity:"".concat(x?"1":"0")}}),Object(T.jsx)(D.a,{style:{backgroundColor:"#116",position:"absolute",opacity:"".concat(x?"-1":"2")},size:98,icon:!(O||t.name)&&Object(T.jsx)(N.a,{}),children:O||t.name}),!C&&Object(T.jsx)("i",{style:{position:"absolute",top:"0",left:"0",padding:"0.3rem",backgroundColor:"#fefefebf"},className:"fad fa-volume-mute fa-2x","aria-hidden":"true","aria-label":"microphone muted"})]})]})]})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(F,{}),Object(T.jsx)(G,{})]})]})},Z=(n(209),function(){return Object(c.useEffect)((function(){navigator.onLine||alert("Connect to internet!")}),[navigator]),Object(c.useEffect)((function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],c=n.indexOf("="),a=c>-1?n.substr(0,c):n;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}),[]),Object(T.jsx)(E,{children:Object(T.jsx)("div",{className:"App",style:{height:"100%",width:"100%"},children:Object(T.jsx)($,{})})})}),ee=(n(210),n(211),function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(o.a,{children:Object(T.jsx)(r.c,{children:Object(T.jsx)(r.a,{path:"/",component:Z})})})})}),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(ee,{})}),document.getElementById("root")),te(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ne?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ce(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ce(t,e)}))}}()},33:function(e,t,n){e.exports={options:"Options_options__eiH4x",modal:"Options_modal__-Lg-f",btn:"Options_btn__n54PV",inputgroup:"Options_inputgroup__3SKg9",btnDiv:"Options_btnDiv__1NEnz",phone:"Options_phone__3j1Cl",answer:"Options_answer__wyB9z",decline:"Options_decline__2SqMj",hang:"Options_hang__K5_Ut",share_options:"Options_share_options__1nDwj",share_social:"Options_share_social__2qHQM",share_icon:"Options_share_icon__32724"}}},[[219,1,2]]]);
//# sourceMappingURL=main.c5b19c34.chunk.js.map